{"ast":null,"code":"var _jsxFileName = \"/Users/rollcall/RollCallCode/rollcall-gpt-final/frontend/rollcall-gpt-react/src/ParentApp.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport \"./Chat.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ParentApp() {\n  _s();\n  const [message, setMessage] = useState(\"\");\n  const [response, setResponse] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [currentBot, setCurrentBot] = useState(\"Clippy\");\n  const getBotApiUrl = botName => {\n    switch (botName) {\n      case \"Clippy\":\n        return `${process.env.REACT_APP_BACKEND_URL}/parent/chat`;\n      case \"Rolly\":\n        return `${process.env.REACT_APP_BACKEND_URL}/rolly`;\n      case \"Zara\":\n        return `${process.env.REACT_APP_BACKEND_URL}/zara`;\n      case \"Kevin\":\n        return `${process.env.REACT_APP_BACKEND_URL}/kevin`;\n      case \"Dean\":\n        return `${process.env.REACT_APP_BACKEND_URL}/dean`;\n      case \"Craig\":\n        return `${process.env.REACT_APP_BACKEND_URL}/craig`;\n      case \"Ange\":\n        return `${process.env.REACT_APP_BACKEND_URL}/settings`;\n      case \"James\":\n        return `${process.env.REACT_APP_BACKEND_URL}/james`;\n      case \"Pam\":\n        return `${process.env.REACT_APP_BACKEND_URL}/pam`;\n      case \"Harrison\":\n        return `${process.env.REACT_APP_BACKEND_URL}/harrison`;\n      case \"Robyn\":\n        return `${process.env.REACT_APP_BACKEND_URL}/robyn`;\n      default:\n        return `${process.env.REACT_APP_BACKEND_URL}/parents/chat`;\n    }\n  };\n  const [apiUrl, setApiUrl] = useState(getBotApiUrl(\"Clippy\"));\n  console.log(apiUrl);\n  const extractBotName = content => {\n    const botSwitchPattern = /\\[BOT_SWITCH: (.*?)\\]/;\n    const match = content.match(botSwitchPattern);\n    console.log(match, content);\n    if (match) {\n      const botName = match[1];\n      const updatedContent = content.replace(botSwitchPattern, `Switching to ${botName}...`);\n      return {\n        botName,\n        updatedContent\n      };\n    }\n    return {\n      botName: null,\n      updatedContent: content\n    };\n  };\n\n  // Add this useEffect hook inside your component\n  useEffect(() => {\n    console.log(\"useEffect called\");\n    const initiateBot = async () => {\n      const response = await fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          message: \"\",\n          role: \"system\"\n        })\n      });\n      const data = await response.json();\n      setMessages([{\n        type: \"bot\",\n        content: data.message\n      }]);\n    };\n    initiateBot();\n\n    // Clean up function to remove previous conversations\n    return () => {\n      setMessages([]);\n    };\n  }, []);\n  const handleSubmit = e => {\n    e.preventDefault();\n    setLoading(true);\n    fetch(apiUrl, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        message,\n        role: \"user\"\n      })\n    }).then(res => res.json()).then(data => {\n      const {\n        botName,\n        message: updatedContent\n      } = data;\n      console.log(data);\n      if (botName) {\n        // Replace this line\n        // apiUrl = getBotApiUrl(botName);\n\n        // With this line\n        setApiUrl(getBotApiUrl(botName));\n        setResponse(updatedContent);\n        setMessages(prev => [...prev, {\n          type: \"user\",\n          content: message\n        }, {\n          type: \"bot\",\n          content: updatedContent\n        }]);\n      } else {\n        setResponse(data.message);\n        setMessages(prev => [...prev, {\n          type: \"user\",\n          content: message\n        }, {\n          type: \"bot\",\n          content: updatedContent\n        }]);\n      }\n      setMessage(\"\");\n      setLoading(false);\n    });\n  };\n  const formatBotMessage = content => {\n    const lines = content.split(\"\\n\");\n    let listItems = [];\n    const elements = [];\n    lines.forEach((line, index) => {\n      const match = line.match(/^(\\d+)\\.\\s(.*)$/);\n      if (match) {\n        const [,, text] = match;\n        listItems.push( /*#__PURE__*/_jsxDEV(\"li\", {\n          children: text\n        }, `li-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 24\n        }, this));\n      } else {\n        if (listItems.length > 0) {\n          elements.push( /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: listItems\n          }, `ul-${elements.length}`, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this));\n          listItems = [];\n        }\n        elements.push( /*#__PURE__*/_jsxDEV(\"p\", {\n          children: line\n        }, `p-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 23\n        }, this));\n      }\n    });\n    if (listItems.length > 0) {\n      elements.push( /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: listItems\n      }, `ul-${elements.length}`, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }, this));\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: elements\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 12\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          className: \"nav-tab\",\n          children: \"Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/login\",\n          className: \"nav-tab\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/parent\",\n          className: \"nav-tab\",\n          children: \"Parent App\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/\",\n        className: \"logo\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://rollcall.com.au/wp-content/uploads/2018/08/cropped-RollCall-logo-sml-02.png\",\n          alt: \"Your Logo\",\n          style: {\n            width: \"100px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-window\",\n      children: messages.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message-wrapper ${msg.type === \"user\" ? \"user-message-wrapper\" : \"bot-message-wrapper\"}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${msg.type === \"user\" ? \"user-name\" : \"bot-name\"}`,\n          children: msg.type === \"user\" ? \"John\" : \"RollCall\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `message ${msg.type === \"user\" ? \"user-message\" : \"bot-message\"}`,\n          children: msg.type === \"bot\" ? formatBotMessage(msg.content) : msg.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"form-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: message,\n        onChange: e => setMessage(e.target.value),\n        className: \"message-input\",\n        placeholder: \"Type your message...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"submit-button\",\n        disabled: loading,\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loader\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 22\n        }, this) : \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"typing-bubble\",\n        children: \"RollCall is typing...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 154,\n    columnNumber: 5\n  }, this);\n}\n_s(ParentApp, \"buIUhxmvX7RFgKKftycOrEMIFIA=\");\n_c = ParentApp;\nexport default ParentApp;\nvar _c;\n$RefreshReg$(_c, \"ParentApp\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","ParentApp","_s","message","setMessage","response","setResponse","messages","setMessages","loading","setLoading","currentBot","setCurrentBot","getBotApiUrl","botName","process","env","REACT_APP_BACKEND_URL","apiUrl","setApiUrl","console","log","extractBotName","content","botSwitchPattern","match","updatedContent","replace","initiateBot","fetch","method","headers","body","JSON","stringify","role","data","json","type","handleSubmit","e","preventDefault","then","res","prev","formatBotMessage","lines","split","listItems","elements","forEach","line","index","text","push","children","fileName","_jsxFileName","lineNumber","columnNumber","length","className","href","src","alt","style","width","map","msg","i","onSubmit","value","onChange","target","placeholder","disabled","_c","$RefreshReg$"],"sources":["/Users/rollcall/RollCallCode/rollcall-gpt-final/frontend/rollcall-gpt-react/src/ParentApp.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useEffect } from \"react\";\n\nimport \"./Chat.css\";\n\nfunction ParentApp() {\n  const [message, setMessage] = useState(\"\");\n  const [response, setResponse] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [currentBot, setCurrentBot] = useState(\"Clippy\");\n\n  const getBotApiUrl = (botName) => {\n    switch (botName) {\n      case \"Clippy\":\n        return `${process.env.REACT_APP_BACKEND_URL}/parent/chat`;\n      case \"Rolly\":\n        return `${process.env.REACT_APP_BACKEND_URL}/rolly`;\n      case \"Zara\":\n        return `${process.env.REACT_APP_BACKEND_URL}/zara`;\n      case \"Kevin\":\n        return `${process.env.REACT_APP_BACKEND_URL}/kevin`;\n      case \"Dean\":\n        return `${process.env.REACT_APP_BACKEND_URL}/dean`;\n      case \"Craig\":\n        return `${process.env.REACT_APP_BACKEND_URL}/craig`;\n      case \"Ange\":\n        return `${process.env.REACT_APP_BACKEND_URL}/settings`;\n      case \"James\":\n        return `${process.env.REACT_APP_BACKEND_URL}/james`;\n      case \"Pam\":\n        return `${process.env.REACT_APP_BACKEND_URL}/pam`;\n      case \"Harrison\":\n        return `${process.env.REACT_APP_BACKEND_URL}/harrison`;\n      case \"Robyn\":\n        return `${process.env.REACT_APP_BACKEND_URL}/robyn`;\n      default:\n        return `${process.env.REACT_APP_BACKEND_URL}/parents/chat`;\n    }\n  };\n  const [apiUrl, setApiUrl] = useState(getBotApiUrl(\"Clippy\"));\n\n  console.log(apiUrl);\n\n  const extractBotName = (content) => {\n    const botSwitchPattern = /\\[BOT_SWITCH: (.*?)\\]/;\n    const match = content.match(botSwitchPattern);\n\n    console.log(match, content);\n\n    if (match) {\n      const botName = match[1];\n      const updatedContent = content.replace(\n        botSwitchPattern,\n        `Switching to ${botName}...`\n      );\n      return { botName, updatedContent };\n    }\n\n    return { botName: null, updatedContent: content };\n  };\n\n  // Add this useEffect hook inside your component\n  useEffect(() => {\n    console.log(\"useEffect called\");\n    const initiateBot = async () => {\n      const response = await fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ message: \"\", role: \"system\" }),\n      });\n\n      const data = await response.json();\n      setMessages([{ type: \"bot\", content: data.message }]);\n    };\n\n    initiateBot();\n\n    // Clean up function to remove previous conversations\n    return () => {\n      setMessages([]);\n    };\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    fetch(apiUrl, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ message, role: \"user\" }),\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        const { botName, message: updatedContent } = data;\n        console.log(data);\n        if (botName) {\n          // Replace this line\n          // apiUrl = getBotApiUrl(botName);\n\n          // With this line\n          setApiUrl(getBotApiUrl(botName));\n\n          setResponse(updatedContent);\n          setMessages((prev) => [\n            ...prev,\n            { type: \"user\", content: message },\n            { type: \"bot\", content: updatedContent },\n          ]);\n        } else {\n          setResponse(data.message);\n          setMessages((prev) => [\n            ...prev,\n            { type: \"user\", content: message },\n            { type: \"bot\", content: updatedContent },\n          ]);\n        }\n        setMessage(\"\");\n        setLoading(false);\n      });\n  };\n  const formatBotMessage = (content) => {\n    const lines = content.split(\"\\n\");\n    let listItems = [];\n    const elements = [];\n\n    lines.forEach((line, index) => {\n      const match = line.match(/^(\\d+)\\.\\s(.*)$/);\n\n      if (match) {\n        const [, , text] = match;\n        listItems.push(<li key={`li-${index}`}>{text}</li>);\n      } else {\n        if (listItems.length > 0) {\n          elements.push(<ul key={`ul-${elements.length}`}>{listItems}</ul>);\n          listItems = [];\n        }\n        elements.push(<p key={`p-${index}`}>{line}</p>);\n      }\n    });\n\n    if (listItems.length > 0) {\n      elements.push(<ul key={`ul-${elements.length}`}>{listItems}</ul>);\n    }\n\n    return <div>{elements}</div>;\n  };\n\n  return (\n    <div className=\"chat-container\">\n      <nav className=\"navbar\">\n        <div className=\"nav-tabs\">\n          <a href=\"/\" className=\"nav-tab\">\n            Home\n          </a>\n          <a href=\"/login\" className=\"nav-tab\">\n            Login\n          </a>\n          <a href=\"/parent\" className=\"nav-tab\">\n            Parent App\n          </a>\n        </div>\n        <a href=\"/\" className=\"logo\">\n          <img\n            src=\"https://rollcall.com.au/wp-content/uploads/2018/08/cropped-RollCall-logo-sml-02.png\"\n            alt=\"Your Logo\"\n            style={{ width: \"100px\" }}\n          />\n        </a>\n      </nav>\n      <div className=\"chat-window\">\n        {messages.map((msg, i) => (\n          <div\n            key={i}\n            className={`message-wrapper ${\n              msg.type === \"user\"\n                ? \"user-message-wrapper\"\n                : \"bot-message-wrapper\"\n            }`}\n          >\n            <div\n              className={`${msg.type === \"user\" ? \"user-name\" : \"bot-name\"}`}\n            >\n              {msg.type === \"user\" ? \"John\" : \"RollCall\"}\n            </div>\n            <div\n              className={`message ${\n                msg.type === \"user\" ? \"user-message\" : \"bot-message\"\n              }`}\n            >\n              {msg.type === \"bot\" ? formatBotMessage(msg.content) : msg.content}\n            </div>\n          </div>\n        ))}\n      </div>\n      <form onSubmit={handleSubmit} className=\"form-container\">\n        <textarea\n          value={message}\n          onChange={(e) => setMessage(e.target.value)}\n          className=\"message-input\"\n          placeholder=\"Type your message...\"\n        ></textarea>\n        <button type=\"submit\" className=\"submit-button\" disabled={loading}>\n          {loading ? <div className=\"loader\"></div> : \"Send\"}\n        </button>\n        {loading && <div className=\"typing-bubble\">RollCall is typing...</div>}\n      </form>\n    </div>\n  );\n}\n\nexport default ParentApp;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}